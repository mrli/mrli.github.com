
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>lioooo</title>
	<meta name="author" content="lioooo">

	
	<meta name="description" content="工作中把一些常用的脚本功能收集到一些,经过几次的使用.发现脚本功能还算比较的稳定.于是做一个常用gem方便以后直接使用. setp1: 制作gem需要用到第三方库文件Jeweler gem install jeweler
jeweler lioooo_utils
cd lioooo_utils &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="lioooo" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script async="true" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">lioooo</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:mrli.github.io">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/milegamemrli" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/mrli" title="GitHub">GitHub</a>
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
    
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:mrli.github.io">
	</form>
</nav>

</header>
	
		
	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/04/07/build-liooo-utils-gems/">
		
			收集制作一个常用的脚本集合Gems(lioooo_utils)</a>
	</h2>
	<div class="entry-content">
		<p>工作中把一些常用的脚本功能收集到一些,经过几次的使用.发现脚本功能还算比较的稳定.于是做一个常用gem方便以后直接使用.</p>

<h4>setp1:</h4>

<p>制作gem需要用到第三方库文件<a href="https://github.com/technicalpickles/jeweler">Jeweler</a></p>

<ol>
<li><p><code>gem install jeweler</code></p></li>
<li><p><code>jeweler lioooo_utils</code></p></li>
<li><p><code>cd lioooo_utils &amp;&amp; subl ./lioooo_utils</code></p></li>
<li><p>修改项目目录中的Rakefile 描述信息等</p></li>
</ol>



		
		<a href="/blog/2014/04/07/build-liooo-utils-gems/" class="more-link">更多信息-> &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-04-07T16:27:20+08:00" pubdate data-updated="true">Apr 7<span>th</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/ruby/'>Ruby</a>


</div>
	
	<div class="comments"><a href="/blog/2014/04/07/build-liooo-utils-gems/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/03/22/install-docker/">
		
			Docker的安装和使用</a>
	</h2>
	<div class="entry-content">
		<h4>Docker的安装</h4>

<p>Docker 是现在比较火的工具 <a href="http://www.oschina.net/search?scope=project&amp;q=docker">具体介绍</a>
下面记录在<a href="http://www.oschina.net/search?scope=project&amp;q=virtualbox">virtualboxVM</a>中的安装步骤 <a href="http://docs.docker.io/en/latest/installation/rhel/">Install Docker</a></p>

<ol>
<li><p>若没有安装过docker: <code>sudo yum -y install docker-io</code></p></li>
<li><p>若安装过docker: <code>sudo yum -y update docker-io</code></p></li>
<li><p>启动docker服务: <code>sudo service docker start</code></p></li>
<li><p>设置docker开机自启: <code>sudo chkconfig docker on</code></p></li>
<li><p>测试并克隆centos到docker中: <code>sudo docker run -i -t centos /bin/bash</code></p></li>
</ol>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-03-22T16:35:37+08:00" pubdate data-updated="true">Mar 22<span>nd</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/linux/'>Linux</a>


</div>
	
	<div class="comments"><a href="/blog/2014/03/22/install-docker/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/03/10/ruby-socket-study/">
		
			RubySocket 编程例子</a>
	</h2>
	<div class="entry-content">
		<p>Ruby 的 Socket 类在默认情况下并不会被载入,它需要使用 require&#8217;socket&#8217; 导入.
其中包括了各种用于TCP套接字、UDP套接字的类,以及必要的基本类型。</p>

<p><strong>服务器部分</strong>
server.rb</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>require 'socket'
</span><span class='line'>
</span><span class='line'>server = TCPServer.new 2000 # Server bound to port 2000
</span><span class='line'>
</span><span class='line'>loop do
</span><span class='line'>  client = server.accept    # Wait for a client to connect
</span><span class='line'>  client.puts "Hello !"
</span><span class='line'>  client.puts "Time is #{Time.now}"
</span><span class='line'>  client.close
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>


<p><strong>客户端部分</strong>
client.rb</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>require 'socket'
</span><span class='line'>
</span><span class='line'>s = TCPSocket.new 'localhost', 2000
</span><span class='line'>
</span><span class='line'>while line = s.gets # Read lines from socket
</span><span class='line'>  puts line         # and print them
</span><span class='line'>end
</span><span class='line'>
</span><span class='line'>s.close             # close socket when done</span></code></pre></td></tr></table></div></figure>





		
		<a href="/blog/2014/03/10/ruby-socket-study/" class="more-link">更多信息-> &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-03-10T16:43:24+08:00" pubdate data-updated="true">Mar 10<span>th</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/ruby/'>Ruby</a>


</div>
	
	<div class="comments"><a href="/blog/2014/03/10/ruby-socket-study/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/03/05/virtualbox-no-ip-config-issue/">
		
			克隆Virtualbox虚拟机后无Ip的解决方案</a>
	</h2>
	<div class="entry-content">
		<p> VirtualBox是一个免费的虚拟机软件,支持多平台运行.当开发需要运行多个虚拟机时.
 采用VBox的复制功能就显得特别方便.但是复制一个完整的镜像后.会发现新的镜像分配不到ip地址.就算你选择了<strong><em>初始化网卡MAC地址</em></strong>复制之后也往往会发现网络无法使用这个时候我们就需要手动做些处理.下面介绍需要做一些什么样的处理.</p>

<ol>
<li><p>删除网络配置文件:</p>

<p><code>sudo rm -f /etc/udev/rules.d/70-persistent-net.rules</code></p></li>
<li><p>删除<strong><em>/etc/sysconfig/network-scripts/ifcfg-eth0</em></strong> 中的 <strong><em>HWADDR</em></strong> 以及 <strong><em>UUID</em></strong> 配置项.</p></li>
<li><p>在 <strong><em>IPADDR</em></strong> 配置项中初始化好需要的IP地址例如 <strong><em>192.168.1.117</em></strong></p></li>
<li><p>重启系统 <code>sudo reboot</code></p></li>
<li><p>重新登录系统后 <code>ifconfig</code> 查看是否已经分配好了IP</p></li>
</ol>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-03-05T16:41:19+08:00" pubdate data-updated="true">Mar 5<span>th</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/linux/'>Linux</a>


</div>
	
	<div class="comments"><a href="/blog/2014/03/05/virtualbox-no-ip-config-issue/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/03/02/puppet-study/">
		
			Puppet 的环境搭建及使用</a>
	</h2>
	<div class="entry-content">
		<h5>软件包的安装</h5>

<p>  <strong><em>puppet 的安装有多种方式,这里使用yum的方式安装</em></strong></p>

<ol>
<li><p> 首先安装ruby环境<a href="https://www.ruby-lang.org/en/installation/">Ruby的安装</a></p></li>
<li><p> 安装puppet  <code>sudo yum install -y puppet-server puppet</code> <a href="http://docs.puppetlabs.com/guides/installation.html#red-hat-enterprise-linux-and-derivatives">Yum 安装Puppet</a></p></li>
<li><p> 检查是否安装成功 <code>ruby -v ; puppet --version</code> 若输出版本号表明安装成功</p></li>
</ol>


<p> <strong><em>puppet 的安装有多种方式,这里使用ruby的gem包的方式安装</em></strong></p>

<ol>
<li><p> 首先安装ruby环境 <code>brew install ruby</code> <a href="https://www.ruby-lang.org/en/installation/">Ruby的安装</a></p>

<p>1.1 安装puppet所依赖的第三方包 <code>gem install ruby-shadow -v 2.3.2</code></p></li>
<li><p> 安装puppet gem <code>gem install puppet -v 3.4.0</code> <a href="http://docs.puppetlabs.com/guides/installation.html">Puppet 的安装</a></p></li>
<li><p> 检查是否安装成功 <code>ruby -v ; puppet --version</code> 若输出版本号表明安装成功</p></li>
</ol>


<hr />

<p>  
		
		<a href="/blog/2014/03/02/puppet-study/" class="more-link">更多信息-> &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-03-02T16:44:10+08:00" pubdate data-updated="true">Mar 2<span>nd</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/linux/'>Linux</a>


</div>
	
	<div class="comments"><a href="/blog/2014/03/02/puppet-study/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/02/19/others/">
		
			杂项记录</a>
	</h2>
	<div class="entry-content">
		<h5>修改mac用户到wheel用户组</h5>

<p> <a href="http://superuser.com/questions/64805/how-do-i-add-myself-to-the-wheel-group-to-use-cvs">参考</a>
<code>sudo   dscl . append /Groups/admin GroupMembership mile001</code> 成功后
<code>groups</code> 查看是否包括有<strong><em>wheel</em></strong>组</p>

<h5>添加ulimit到系统环境中去</h5>

<pre><code>echo "ulimit -c unlimited &gt; /dev/null 2&gt;&amp;1" &gt;&gt; ~/.bash_profile
source ~/.bash_profile
</code></pre>

<h5>Git设置全局的用户名</h5>

<p>设置后团队在提交代码后便可查到是谁做的</p>

<pre><code>$ git config --global user.name "lioooo"
$ git config --global user.email "lioooo@mile.com"
</code></pre>

<h5>设置linux的hostname永久生效</h5>

<pre><code>sudo echo 'HOSTNAME=agent001.puppet.org' &gt;&gt; /etc/sysconfig/network
</code></pre>

<h5>Rails 和 ActiveRecord 时间不8个小时处理方案</h5>

<p>在Rails.root/application.rb中添加<a href="http://ruby-china.org/topics/3254">参考</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>config.active_record.default_timezone = :local
</span><span class='line'>config.time_zone = 'Beijing'</span></code></pre></td></tr></table></div></figure>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-02-19T16:40:01+08:00" pubdate data-updated="true">Feb 19<span>th</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/qi-ta-za-xiang/'>其它杂项</a>


</div>
	
	<div class="comments"><a href="/blog/2014/02/19/others/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/02/14/octopress-study/">
		
			学习octopress个人blog网站搭建</a>
	</h2>
	<div class="entry-content">
		<p>ocotpress 是一个<strong>独立博客网站</strong>用于记录和分享一些个人在开发中的心得和技巧等
下面我们就来试着搭建一个octopress的个人网站</p>

<h4>检查开发环境</h4>

<ol>
<li><p><strong>ruby</strong> 用于开发 <code>ruby -v</code></p></li>
<li><p><strong>Git</strong> 用于版本控制 <code>git --versions</code></p></li>
</ol>


<h5>取得ocotpress的源代码</h5>

<pre><code>git clone git://github.com/imathis/octopress.git lioooo-blog &amp;&amp; cd lioooo-blog

gem install bundler &amp;&amp; bundle install
</code></pre>

<h5>初始化octopress的运行环境</h5>

<pre><code>cd lioooo-blog &amp;&amp; bundle exec rake install
</code></pre>

<h5>运行octopress check 是否初始化ok</h5>

<pre><code>cd lioooo-blog &amp;&amp; bundle exec rake preview

open http://localhost:4000
</code></pre>


		
		<a href="/blog/2014/02/14/octopress-study/" class="more-link">更多信息-> &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-02-14T16:30:28+08:00" pubdate data-updated="true">Feb 14<span>th</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/gong-ju-shi-yong/'>工具使用</a>


</div>
	
	<div class="comments"><a href="/blog/2014/02/14/octopress-study/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/01/10/delayed-job-in-ruby/">
		
			Delayed_job 学习</a>
	</h2>
	<div class="entry-content">
		<h5>初始化环境</h5>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>echo "'delayed_job_active_record','4.0.0'" &gt;&gt; Rails.root/Gemfile
</span><span class='line'>
</span><span class='line'>cd Rails.root; bundle install
</span><span class='line'>
</span><span class='line'>bundle exec rake generate delayed_job:active_record
</span><span class='line'>
</span><span class='line'>rake db:migrate</span></code></pre></td></tr></table></div></figure>


<p>以上执行完毕后基本的环境已经准备ok!</p>


		
		<a href="/blog/2014/01/10/delayed-job-in-ruby/" class="more-link">更多信息-> &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-01-10T16:37:13+08:00" pubdate data-updated="true">Jan 10<span>th</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/ruby/'>Ruby</a>


</div>
	
	<div class="comments"><a href="/blog/2014/01/10/delayed-job-in-ruby/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2012/06/30/ubuntu-da-jian-rails-kai-fa-huan-jing/">
		
			Ubuntu 搭建rails 开发环境</a>
	</h2>
	<div class="entry-content">
		<h3>利用这个星期六我在ubuntu上搭建了一个rails的开发环境包括:</h3>

<p>nginx,passenger,mysql,imagemagick,mongodb etc 等一些常用工具的安装和调试.<br/>
下面我把自己搭建的过程给分享出来,希望对你有用.</p>

<h2>修改终端的语言</h2>

<pre><code>sudo nano /etc/default/locale1
</code></pre>

<p>  修改默认的</p>

<pre><code>LANG=zh_CN.UTF-8
LANGUAGE=zh_CN:zh
</code></pre>

<p>  为:</p>

<pre><code>LANG="en_US.UTF-8"
LANGUAGE="en_US:en"
</code></pre>

<h2>下载并安装ruby</h2>

<pre><code>sudo apt-get remove --purge ruby1.8 #   删除原来的ruby1.8

* mkidr -p /opt/tools &amp;&amp; cd /opt/tools &amp;&amp; wget http://ftp.ruby-lang.org/pub/ruby/1.9/ruby-1.9.3-p194.tar.gz 

tar -xvf ruby-1.9.3-p194.tar.gz &amp;&amp; ./configure  --prefix=/opt/ruby &amp;&amp; make &amp;&amp; make install

nano ~/.bash_profile 添加内容 export PATH=/opt/ruby/bin:$PATH  # 把编译的ruby 加到环境变量中去让系统使用手动编译的ruby

source ~/.bash_profile  ( . ~/.bash_profile) # 使刚才修改的变量生效
</code></pre>


		
		<a href="/blog/2012/06/30/ubuntu-da-jian-rails-kai-fa-huan-jing/" class="more-link">更多信息-> &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-06-30T23:07:00+08:00" pubdate data-updated="true">Jun 30<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/linux/'>Linux</a>


</div>
	
	<div class="comments"><a href="/blog/2012/06/30/ubuntu-da-jian-rails-kai-fa-huan-jing/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2012/05/20/backup-xue-xi/">
		
			Backup 学习</a>
	</h2>
	<div class="entry-content">
		<p>用于备件数据库和文件等(主要是用ruby写的)文章参考: <a href="https://github.com/meskyanichi/backup">https://github.com/meskyanichi/backup</a></p>

<p>安装</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'> $ gem install backup
</span><span class='line'> </span></code></pre></td></tr></table></div></figure>


<p>生成一个backup配置</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'> $ backup generate:model --trigger db_backup --databases='mysql' --compressors='gzip' --config-path= ~/dev_study/gem/backup_study/
</span></code></pre></td></tr></table></div></figure>



		
		<a href="/blog/2012/05/20/backup-xue-xi/" class="more-link">更多信息-> &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-05-20T23:19:00+08:00" pubdate data-updated="true">May 20<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/ruby/'>Ruby</a>


</div>
	
	<div class="comments"><a href="/blog/2012/05/20/backup-xue-xi/#disqus_thread">Comments</a></div>
	
</div>
</article>

<nav id="pagenavi">
    
    
        <a href="/blog/page/2/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2014

    lioooo

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'mrli';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//go.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-47954687-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>